<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Edumate Notepad</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#0D47A1,#4A148C,#1A237E);
    color: white;
    height: 100vh;
    overflow: hidden;
}
header {
    padding: 15px;
    text-align: center;
    font-size: 20px;
    background: rgba(0,0,0,0.3);
    box-shadow: 0 0 10px #BB86FC;
}
#notesList {
    height: calc(100vh - 140px);
    overflow-y: auto;
    padding: 10px;
}
.noteItem {
    background: rgba(0,0,0,0.35);
    margin-bottom: 10px;
    padding: 15px;
    border-radius: 15px;
    box-shadow: 0 0 10px #BB86FC;
}
.noteItem h3 {
    margin: 0;
    font-size: 16px;
}
.noteItem small {
    color: #C5CAE9;
}
.noteActions {
    margin-top: 8px;
    display: flex;
    gap: 8px;
}
.noteActions button {
    flex: 1;
    border: none;
    border-radius: 20px;
    padding: 6px;
    font-size: 13px;
    background: #6200EA;
    color: white;
}
#addBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    font-size: 32px;
    background: #6200EA;
    color: white;
    border: none;
    box-shadow: 0 0 15px #BB86FC;
}
#editor {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg,#0D47A1,#4A148C,#1A237E);
    display: none;
    flex-direction: column;
}
#editor input, #editor textarea {
    width: 90%;
    margin: 10px auto;
    padding: 12px;
    border-radius: 12px;
    border: none;
    font-size: 16px;
}
#editor textarea {
    flex: 1;
    resize: none;
}
.editorButtons {
    display: flex;
    gap: 10px;
    padding: 10px;
}
.editorButtons button {
    flex: 1;
    padding: 12px;
    border: none;
    border-radius: 30px;
    background: #6200EA;
    color: white;
    font-size: 15px;
}
</style>
</head>

<body>

<header>üìí Edumate Notepad</header>

<div id="notesList"></div>

<button id="addBtn" onclick="openEditor()">+</button>

<!-- Editor -->
<div id="editor">
    <header>üìù Note Editor</header>
    <input type="text" id="titleInput" placeholder="Note Title">
    <textarea id="contentInput" placeholder="Write your note here..."></textarea>

    <div class="editorButtons">
        <button onclick="saveNote()">üíæ Save</button>
        <button onclick="closeEditor()">‚ùå Cancel</button>
    </div>
</div>

<script>
let notes = JSON.parse(localStorage.getItem("edumate_notes")) || [];
let editIndex = null;

function renderNotes() {
    const list = document.getElementById("notesList");
    list.innerHTML = "";

    if (notes.length === 0) {
        list.innerHTML = "<p style='text-align:center'>No notes yet</p>";
        return;
    }

    notes.forEach((note, index) => {
        const div = document.createElement("div");
        div.className = "noteItem";
        div.innerHTML = `
            <h3>${note.title}</h3>
            <small>${note.date}</small>
            <div class="noteActions">
                <button onclick="openEditor(${index})">‚úèÔ∏è Edit</button>
                <button onclick="shareNote(${index})">üîó Share</button>
                <button onclick="deleteNote(${index})">üóëÔ∏è Delete</button>
            </div>
        `;
        list.appendChild(div);
    });
}

function openEditor(index = null) {
    document.getElementById("editor").style.display = "flex";

    if (index !== null) {
        editIndex = index;
        titleInput.value = notes[index].title;
        contentInput.value = notes[index].content;
    } else {
        editIndex = null;
        titleInput.value = "";
        contentInput.value = "";
    }
}

function closeEditor() {
    document.getElementById("editor").style.display = "none";
}

function saveNote() {
    const title = titleInput.value.trim();
    const content = contentInput.value.trim();

    if (!title || !content) {
        alert("Please enter title and content");
        return;
    }

    const data = {
        title,
        content,
        date: new Date().toLocaleString()
    };

    if (editIndex !== null) {
        notes[editIndex] = data;
    } else {
        notes.unshift(data);
    }

    localStorage.setItem("edumate_notes", JSON.stringify(notes));
    closeEditor();
    renderNotes();
}

function deleteNote(index) {
    if (confirm("Are you sure you want to delete this note?")) {
        notes.splice(index, 1);
        localStorage.setItem("edumate_notes", JSON.stringify(notes));
        renderNotes();
    }
}

function shareNote(index) {
    const note = notes[index];
    const text = `${note.title}\n\n${note.content}`;

    if (navigator.share) {
        navigator.share({
            title: note.title,
            text: text
        });
    } else {
        alert("Sharing not supported on this device");
    }
}

renderNotes();
</script>

</body>
</html>