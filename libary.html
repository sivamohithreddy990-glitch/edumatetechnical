<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IIT-GATE Vertical Master Library</title>
<style>
:root {
  --primary: #a855f7;
  --bg: #020617;
  --card: #1e293b;
  --shelf-wood: #451a03;
  --gold: #fbbf24;
}

* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', sans-serif; }
body { background: var(--bg); color: #f8fafc; min-height: 100vh; padding: 15px; }

/* SEARCH AREA */
.search-container { position: sticky; top: 0; z-index: 1000; background: var(--bg); padding: 10px 0; }
#searchBox {
  width: 100%; padding: 15px 25px; border-radius: 50px;
  border: 2px solid #334155; background: #0f172a;
  color: white; font-size: 16px; outline: none;
}

h1 { text-align: center; margin: 15px 0; font-size: 1rem; color: #94a3b8; text-transform: uppercase; }

.page { display: none; max-width: 1100px; margin: auto; }
.page.active { display: block; }

/* MAIN BRANCH GRID */
.grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 12px; }
.card {
  background: var(--card); border-radius: 12px; padding: 25px 5px;
  text-align: center; cursor: pointer; border-bottom: 4px solid var(--primary);
  transition: 0.3s; font-weight: bold; font-size: 12px;
}
.card:hover { background: var(--primary); transform: translateY(-3px); }

.vertical-shelf{
  display:flex;
  flex-direction:row;        /* üëà HORIZONTAL */
  flex-wrap:wrap;            /* next row if overflow */
  gap:14px;
  padding:18px;
  background:#111827;
  border-radius:16px;
  border:8px solid #451a03;
}

.book{
  width:160px;               /* fixed width */
  height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:8px;
  cursor:pointer;
  transition:.3s;
  box-shadow:0 4px 10px rgba(0,0,0,.4);
}
.book:hover{
  transform:translateY(-5px); /* natural horizontal hover */
  filter:brightness(1.2);
}
.book-spine {
  writing-mode: horizontal-tb;   /* üëà NORMAL TEXT */
  transform: none;
  font-size: 14px;
  font-weight: bold;
  color: white;
  text-transform: uppercase;
}
/* MODAL / POPUP */
.modal {
  display:none; position:fixed; inset:0;
  background:rgba(0,0,0,0.95); justify-content:center; align-items:center; z-index:2000;
}
.modal-content {
  background: #1e293b; padding: 25px; border-radius: 20px;
  text-align: center; width: 92%; max-width: 400px; border: 2px solid var(--primary);
}
.modal-btn {
  width: 100%; padding: 12px; margin: 5px 0; border: none; border-radius: 10px;
  font-weight: bold; cursor: pointer; font-size: 13px;
}
.btn-exam { background: var(--gold); color: #000; } 
.btn-test { background: #f8fafc; color: #000; border: 2px solid var(--primary); }
.btn-book { background: #10b981; color: white; } 
.btn-notes { background: #3b82f6; color: white; } 
.btn-video { background: #ef4444; color: white; }
.btn-close { background: #64748b; color: white; margin-top: 10px; }

.lang-select {
  width: 100%; padding: 10px; margin: 10px 0; border-radius: 8px;
  background: #0f172a; color: white; border: 1px solid var(--primary);
}
.back-btn {
  background: var(--primary); color: white; border: none; padding: 16px;
  width: 100%; border-radius: 12px; margin-top: 20px; font-weight: bold;
}
</style>
</head>
<body>

<div class="search-container">
  <input id="searchBox" placeholder="Search branch or subject..." onkeyup="globalSearch()">
</div>

<div class="page active" id="page-main">
  <h1>üèõÔ∏è IIT-GATE ACADEMIC HUB</h1>
  <div class="grid" id="branchGrid"></div>
</div>

<div class="page" id="page-shelf">
  <h1 id="shelfTitle"></h1>
  <div class="vertical-shelf" id="bookShelf"></div>
  <button class="back-btn" onclick="goHome()">‚¨Ö Back to All Branches</button>
</div>

<div class="modal" id="learningModal">
  <div class="modal-content">
    <h2 id="selectedBookTitle" style="color:var(--gold); margin-bottom:15px; font-size:18px;"></h2>
    
    <button class="modal-btn btn-exam" onclick="openResource('papers')">üìù Update Question Papers (PYQ)</button>
    <button class="modal-btn btn-test" onclick="openResource('test')">üéØ Practice Test (NPTEL/GATE)</button>
    <button class="modal-btn btn-book" onclick="openResource('book')">üìö IIT Standard Textbook</button>
    <button class="modal-btn btn-notes" onclick="openResource('notes')">üìÑ Handwritten Study Notes</button>
    
    <div style="border-top:1px solid #475569; margin:10px 0; padding-top:10px;">
      <p style="font-size:11px; opacity:0.8; margin-bottom:5px;">Video Lecture Language:</p>
      <select id="langChoice" class="lang-select">
        <option value="English">English (IIT/NPTEL)</option>
        <option value="Hindi">Hindi (Gate Academy)</option>
        <option value="Telugu">Telugu (Explanation)</option>
      </select>
      <button class="modal-btn btn-video" onclick="openResource('video')">üé¨ Watch IIT Video</button>
    </div>
    
    <button class="modal-btn btn-close" onclick="closeModal()">Close</button>
  </div>
</div>

<script>
let activeBranch="", activeBook="";

const data = {
  "FIRST YEAR (IIT)": {c:"#6366f1", b:["Calculus M1","Matrices M2","Differential M3","Numerical M4","Physics","Chemistry","Basic Electrical","Electronics","Mechanics","C Programming"]},
  "COMPUTER SCIENCE": {c:"#2563eb", b:["Data Structures","Algorithms","OS","DBMS","Discrete Maths","TOC","Networks","Compiler Design","Software Eng","AI","Cyber Security"]},
  "IT (INFO TECH)": {c:"#0ea5e9", b:["Web Tech","Cryptography","Cloud Computing","Mobile Computing","Java Web","Information Security","Software Testing","Python"]},
  "ELECTRONICS (ECE)": {c:"#ef4444", b:["Network Theory","Electronic Devices","Signals","Analog Comm","Digital Comm","DSP","VLSI","Embedded Systems","Microprocessors"]},
  "ELECTRICAL (EEE)": {c:"#eab308", b:["Circuit Analysis","Machines","Power Systems","Control Systems","Power Electronics","Renewable Energy","Measurements"]},
  "MECHANICAL": {c:"#64748b", b:["Thermodynamics","SOM","Fluid Mechanics","Kinematics","Dynamics","Heat Transfer","Machine Design","Manufacturing"]},
  "CIVIL": {c:"#10b981", b:["Surveying","Structure Analysis","Building Materials","Geotech","Transportation","RCC Design","Steel Design","Estimation"]},
  "AUTOMOBILE": {c:"#dc2626", b:["IC Engines","Chassis","Transmission","Auto Electricals","EV Tech","Vehicle Dynamics"]},
  "AERONAUTICAL": {c:"#06b6d4", b:["Aerodynamics","Propulsion","Aircraft Structures","Flight Mechanics","Avionics","Rocket Science"]},
  "CHEMICAL": {c:"#f97316", b:["Mass Transfer","Reaction Eng","Process Control","Chemical Thermo","Fluid Flow","Plant Design"]},
  "MINING": {c:"#78350f", b:["Surface Mining","Rock Mechanics","Mine Ventilation","Mine Surveying","Blasting Tech"]},
  "METALLURGY": {c:"#94a3b8", b:["Physical Metallurgy","Material Science","Iron Making","Steel Making"]},
  "BIOTECH": {c:"#ec4899", b:["Microbiology","Biochemistry","Genetic Eng","Bio-Process","Cell Biology"]}
};

const grid = document.getElementById("branchGrid");
Object.keys(data).forEach(k => {
  let d = document.createElement("div");
  d.className = "card"; d.innerText = k;
  d.onclick = () => openBranch(k);
  grid.appendChild(d);
});

function openBranch(b) {
  activeBranch = b;
  document.getElementById("shelfTitle").innerText = b;
  renderShelf(data[b].b);
  show("page-shelf");
  window.scrollTo(0,0);
}

function renderShelf(books) {
  const shelf = document.getElementById("bookShelf");
  shelf.innerHTML = "";
  books.forEach(book => {
    let b = document.createElement("div");
    b.className = "book";
    b.style.backgroundColor = data[activeBranch].c;
    b.innerHTML = `<div class="book-spine">${book}</div>`;
    b.onclick = () => openModal(book);
    shelf.appendChild(b);
  });
}

function globalSearch() {
  let q = document.getElementById("searchBox").value.toLowerCase();
  if (document.getElementById("page-main").classList.contains("active")) {
    document.querySelectorAll(".card").forEach(c => c.style.display = c.innerText.toLowerCase().includes(q) ? "block" : "none");
  } else {
    document.querySelectorAll(".book").forEach(b => b.style.display = b.innerText.toLowerCase().includes(q) ? "flex" : "none");
  }
}

function openModal(book) {
  activeBook = book;
  document.getElementById("selectedBookTitle").innerText = book;
  document.getElementById("learningModal").style.display = "flex";
}
function closeModal() { document.getElementById("learningModal").style.display = "none"; }

function openResource(type) {
  const lang = document.getElementById("langChoice").value;
  let q = "";
  if (type === "book") q = `"${activeBook}" IIT NPTEL standard textbook university edition complete book filetype:pdf`;
  else if (type === "notes") q = `"${activeBook}" IIT topper handwritten lecture notes GATE study material filetype:pdf`;
  else if (type === "papers") q = `"${activeBook}" GATE NPTEL previous year question papers solved university exam papers filetype:pdf`;
  else if (type === "test") q = `"${activeBook}" GATE NPTEL online mock test practice mcq quiz`;
  else q = `${activeBook} complete course IIT NPTEL ${lang} playlist`;

  window.open(`https://www.google.com/search?q=${encodeURIComponent(q)}`, "_blank");
  closeModal();
}

function show(id) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
function goHome() { show("page-main"); }
</script>
</body>
</html>